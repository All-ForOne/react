{"version":3,"sources":["pages/SignIn.js"],"names":["Copyright","variant","color","align","href","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","authenticated","login","location","classes","history","useHistory","useState","email","setEmail","password","setPassword","hasLoginFailed","setHasLoginFailed","from","state","pathname","to","component","maxWidth","className","onSubmit","e","preventDefault","required","fullWidth","id","label","name","autoComplete","onChange","value","target","autoFocus","type","control","onClick","console","log","AuthenticationService","executeJwtAuthenticationService","then","response","registerSuccessfulLoginForJwt","data","token","catch","error","alert","container","item","xs","push","mt"],"mappings":"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","file":"static/js/16.ea29f0e4.chunk.js","sourcesContent":["import React, {useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\nimport AuthenticationService from 'lib/AuthenticationService' \r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(16),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst SignIn = ({ authenticated, login, location}) => {\r\n    \r\n    const classes = useStyles();\r\n    \r\n    const history = useHistory();\r\n  \r\n    const handleRoute = () =>{ \r\n      history.push(\"/signUp\");\r\n    }\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [hasLoginFailed, setHasLoginFailed] = useState(false)\r\n  \r\n    const handleClick = () => {\r\n      try {\r\n        //login({ email, password })\r\n        console.log('click')\r\n        AuthenticationService.executeJwtAuthenticationService(email, password)\r\n        .then((response) => {\r\n            console.log(response)\r\n            AuthenticationService.registerSuccessfulLoginForJwt(email,response.data.token)\r\n            login()\r\n            //history.push(\"/\")     \r\n        }).catch( (error) =>{\r\n            setHasLoginFailed(true)\r\n            console.log(error.response)\r\n        })\r\n      } catch (e) {\r\n        console.log(e)\r\n        alert(\"Failed to login\")\r\n        setEmail(\"\")\r\n        setPassword(\"\")\r\n      }\r\n    }\r\n    \r\n    const handleFormSubmit = (e) => {\r\n      e.preventDefault()\r\n    }\r\n    \r\n    const { from } = location.state || { from: { pathname: \"/\" } }\r\n    if (authenticated) return <Redirect to={from} />\r\n\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={handleFormSubmit}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                onChange={({ target: { value } }) => setEmail(value)}\r\n                autoFocus\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={({ target: { value } }) => setPassword(value)}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Remember me\"\r\n              />\r\n              { hasLoginFailed && '로그인 실패'}\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleClick}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  \r\n                  <Link onClick={handleRoute} variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </div>\r\n          <Box mt={8}>\r\n            <Copyright />\r\n          </Box>\r\n        </Container>\r\n      );\r\n};\r\n\r\n\r\nexport default SignIn;"],"sourceRoot":""}