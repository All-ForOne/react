{"version":3,"sources":["pages/SignUp.js","pages/SignIn.js"],"names":["SignUp","login","handleDrawer","useEffect","useState","setHasSignUpFailed","firstName","lastName","email","password","inputs","setInputs","onChange","e","target","name","value","classes","makeStyles","theme","paper","display","flexDirection","alignItems","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","useStyles","history","useHistory","handleRoute","push","component","maxWidth","className","variant","noValidate","onSubmit","preventDefault","container","item","xs","sm","autoComplete","required","fullWidth","id","label","autoFocus","type","color","onClick","AuthenticationService","signUp","then","response","catch","error","console","log","alert","justify","Copyright","align","href","Date","getFullYear","SignIn","authenticated","location","setEmail","setPassword","hasLoginFailed","setHasLoginFailed","from","state","pathname","to","control","executeJwtAuthenticationService","registerSuccessfulLoginForJwt","data","token","mt"],"mappings":"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","file":"static/js/5.b6377aa4.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AuthenticationService from 'lib/AuthenticationService' \r\n\r\n\r\nconst SignUp = ({ login, handleDrawer }) => {\r\n  useEffect(() => {\r\n    handleDrawer()\r\n  });\r\n\r\n  const [hasSignUpFailed, setHasSignUpFailed] = useState(false);\r\n  \r\n  const [inputs, setInputs] = useState({\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n  })\r\n\r\n  const {\r\n      firstName, lastName, email, password\r\n  } = inputs;\r\n\r\n  const onChange = e => {\r\n      setInputs({\r\n          ...inputs,\r\n          [e.target.name]: e.target.value\r\n      });\r\n  };\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n  \r\n  \r\n  const handleRoute = () =>{ \r\n    history.push(\"/signIn\");\r\n  }\r\n\r\n  const openPopupForOpenBankingAuthentication = () =>{\r\n      let popup = window.open('about:blank');\r\n      popup.location = \"https://testapi.openbanking.or.kr/oauth/2.0/authorize?\" +\r\n            \"response_type=code&\"+\r\n            \"client_id=545f917f-11ee-4e98-acb9-2a607c368be3&\"+ // \r\n            \"redirect_uri=http://localhost:3000/authResult&\"+\r\n            \"scope=login inquiry&\"+ // login inquiry transfer\r\n            \"state=b80BLsfigm9OokPTjy03elbJqRHOfGSY&\"+\r\n            \"auth_type=0\";\r\n  };\r\n\r\n  //signUp\r\n  const handleClick = () => {\r\n    try {\r\n      AuthenticationService.signUp(firstName, lastName, email, password)\r\n      .then((response) => {\r\n        handleRoute()\r\n      }).catch( (error) =>{\r\n          setHasSignUpFailed(true)\r\n          console.log(error.response)\r\n      })\r\n    } catch (e) {\r\n      console.log(e)\r\n      alert(\"Failed to signUp\")\r\n      //setEmail(\"\")\r\n      //setPassword(\"\")\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault()\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={handleFormSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                onChange={onChange} \r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                onChange={onChange} \r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                onChange={onChange} \r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                onChange={onChange} \r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleClick}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link onClick={handleRoute} variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\n\r\nexport default SignUp;","import React, {useState, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport SignUp from './SignUp'\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\nimport AuthenticationService from 'lib/AuthenticationService' \r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst SignIn = ({ authenticated, login, location, handleDrawer }) => {\r\n    useEffect(() => {\r\n      handleDrawer()\r\n    });\r\n    const classes = useStyles();\r\n    \r\n    const history = useHistory();\r\n  \r\n    const handleRoute = () =>{ \r\n      history.push(\"/signUp\");\r\n    }\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [hasLoginFailed, setHasLoginFailed] = useState(false)\r\n  \r\n    const handleClick = () => {\r\n      try {\r\n        //login({ email, password })\r\n        console.log('click')\r\n        AuthenticationService.executeJwtAuthenticationService(email, password)\r\n        .then((response) => {\r\n            console.log(response)\r\n            AuthenticationService.registerSuccessfulLoginForJwt(email,response.data.token)\r\n            login()\r\n            //history.push(\"/\")     \r\n        }).catch( (error) =>{\r\n            setHasLoginFailed(true)\r\n            console.log(error.response)\r\n        })\r\n      } catch (e) {\r\n        console.log(e)\r\n        alert(\"Failed to login\")\r\n        setEmail(\"\")\r\n        setPassword(\"\")\r\n      }\r\n    }\r\n    \r\n    const handleFormSubmit = (e) => {\r\n      e.preventDefault()\r\n    }\r\n    \r\n    const { from } = location.state || { from: { pathname: \"/\" } }\r\n    if (authenticated) return <Redirect to={from} />\r\n\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={handleFormSubmit}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                onChange={({ target: { value } }) => setEmail(value)}\r\n                autoFocus\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={({ target: { value } }) => setPassword(value)}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Remember me\"\r\n              />\r\n              { hasLoginFailed && '로그인 실패'}\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleClick}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  \r\n                  <Link onClick={handleRoute} variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </div>\r\n          <Box mt={8}>\r\n            <Copyright />\r\n          </Box>\r\n        </Container>\r\n      );\r\n};\r\n\r\n\r\nexport default SignIn;"],"sourceRoot":""}